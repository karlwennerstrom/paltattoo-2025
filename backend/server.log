
> tattoo-connect-backend@1.0.0 start
> node server.js

Server is running on port 5000
API documentation available at http://localhost:5000
Database connection successful
Email transporter error: Error: Invalid login: 535 Authentication failed
    at SMTPConnection._formatError (/home/karl/my-project/paltattoo/backend/node_modules/nodemailer/lib/smtp-connection/index.js:809:19)
    at SMTPConnection._actionAUTHComplete (/home/karl/my-project/paltattoo/backend/node_modules/nodemailer/lib/smtp-connection/index.js:1588:34)
    at SMTPConnection.<anonymous> (/home/karl/my-project/paltattoo/backend/node_modules/nodemailer/lib/smtp-connection/index.js:556:26)
    at SMTPConnection._processResponse (/home/karl/my-project/paltattoo/backend/node_modules/nodemailer/lib/smtp-connection/index.js:993:20)
    at SMTPConnection._onData (/home/karl/my-project/paltattoo/backend/node_modules/nodemailer/lib/smtp-connection/index.js:774:14)
    at SMTPConnection._onSocketData (/home/karl/my-project/paltattoo/backend/node_modules/nodemailer/lib/smtp-connection/index.js:195:44)
    at TLSSocket.emit (node:events:517:28)
    at addChunk (node:internal/streams/readable:368:12)
    at readableAddChunk (node:internal/streams/readable:341:9)
    at Readable.push (node:internal/streams/readable:278:10) {
  code: 'EAUTH',
  response: '535 Authentication failed',
  responseCode: 535,
  command: 'AUTH PLAIN'
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Error getting sponsored shop: Error: Error incrementing view count: Unknown column 'view_count' in 'field list'
    at SponsoredShop.incrementViewCount (/home/karl/my-project/paltattoo/backend/models/SponsoredShop.js:240:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getShopById (/home/karl/my-project/paltattoo/backend/controllers/sponsoredShopController.js:58:7)
Error getting sponsored shop: Error: Error incrementing view count: Unknown column 'view_count' in 'field list'
    at SponsoredShop.incrementViewCount (/home/karl/my-project/paltattoo/backend/models/SponsoredShop.js:240:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getShopById (/home/karl/my-project/paltattoo/backend/controllers/sponsoredShopController.js:58:7)
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
Get artist stats error: Error: Table 'tattoo_connect.portfolio' doesn't exist
    at PromisePool.execute (/home/karl/my-project/paltattoo/backend/node_modules/mysql2/lib/promise/pool.js:54:22)
    at /home/karl/my-project/paltattoo/backend/routes/stats.js:12:37
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authorizeArtist (/home/karl/my-project/paltattoo/backend/middleware/auth.js:31:3)
    at Layer.handle [as handle_request] (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/karl/my-project/paltattoo/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticate (/home/karl/my-project/paltattoo/backend/middleware/auth.js:21:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ER_NO_SUCH_TABLE',
  errno: 1146,
  sql: '\n' +
    '      SELECT \n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_proposals,\n' +
    '        (SELECT COUNT(*) FROM proposals p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    "         WHERE ta.user_id = ? AND p.status = 'accepted') as accepted_proposals,\n" +
    '        (SELECT COUNT(*) FROM appointments a \n' +
    '         JOIN tattoo_artists ta ON a.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as total_appointments,\n' +
    '        (SELECT COUNT(*) FROM portfolio p \n' +
    '         JOIN tattoo_artists ta ON p.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as portfolio_items,\n' +
    '        (SELECT AVG(rating) FROM reviews r \n' +
    '         JOIN tattoo_artists ta ON r.artist_id = ta.id \n' +
    '         WHERE ta.user_id = ?) as average_rating\n' +
    '    ',
  sqlState: '42S02',
  sqlMessage: "Table 'tattoo_connect.portfolio' doesn't exist"
}
